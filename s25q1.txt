<!DOCTYPE html>
<html>
<head>
    <title>File Operations</title>
</head>
<body>
    <h2>Menu Driven File Operations</h2>

    <form method="post">
        Enter filename: <input type="text" name="filename" required><br><br>
        Select Operation: 
        <select name="operation" required>
            <option value="type">Display Type of File</option>
            <option value="modtime">Display Last Modification Time</option>
            <option value="size">Display Size of File</option>
            <option value="delete">Delete File</option>
        </select><br><br>
        <input type="submit" name="submit" value="Perform Operation">
    </form>

<?php
if (isset($_POST['submit'])) {
    $file = $_POST['filename'];
    $operation = $_POST['operation'];

    // Check if file exists
    if (!file_exists($file)) {
        echo "<p style='color:red;'>File does not exist: $file</p>";
    } else {
        switch ($operation) {
            case "type":
                if (is_file($file)) {
                    echo "<p>Type: Regular file</p>";
                } elseif (is_dir($file)) {
                    echo "<p>Type: Directory</p>";
                } else {
                    echo "<p>Type: Other</p>";
                }
                break;

            case "modtime":
                $modTime = date("d-m-Y H:i:s", filemtime($file));
                echo "<p>Last modification time: $modTime</p>";
                break;

            case "size":
                $size = filesize($file);
                echo "<p>Size of file: $size bytes</p>";
                break;

            case "delete":
                if (unlink($file)) {
                    echo "<p style='color:green;'>File '$file' deleted successfully.</p>";
                } else {
                    echo "<p style='color:red;'>Failed to delete file.</p>";
                }
                break;

            default:
                echo "<p>Invalid operation.</p>";
        }
    }
}
?>
</body>
</html>
